(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a(39)},20:function(e,t,a){},37:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n,i=a(0),r=a.n(i),o=a(3),l=a.n(o),s=(a(20),a(8)),m=a(9),c=a(12),h=a(10),d=a(13),u=a(1),p=a(11),v=a.n(p),g=(a(37),new Date),E={I:"Cmaj",ii:"Dmin",iii:"Emin",IV:"Fmaj",V:"Gmaj",vi:"Amin",vii:"Bmin"},I={i:"Amin",ii:"Bmin",III:"Caug",iv:"Dmin",V:"Emaj",VI:"Fmaj",vii:"Gdim"},f={i:"Amin",ii:"Bdim",III:"Cmaj",iv:"Dmin",v:"Emin",VI:"Fmaj",VII:"Gmaj"},b={"C\u266d":59,C:48,"C#":49,"D\u266d":49,D:50,"D#":51,"E\u266d":51,E:52,"F\u266d":52,F:53,"F#":54,"G\u266d":54,G:55,"G#":56,"A\u266d":56,A:57,"A#":58,"B\u266d":58,B:59},y={Cmaj:["C","E","G"],Caug:["C","E","G#"],Dmin:["D","F","A"],Dmaj:["D","F#","A"],Emin:["E","G","B"],Emaj:["E","G#","B"],Fmaj:["F","A","C"],"F#dim":["F#","A","C"],"F#maj":["F#","A#","C#"],Gmaj:["G","B","D"],Gmin:["G","A#","D"],Gdim:["G","A#","C#"],"G#maj":["G#","C","D"],"G#dim":["G#","B","D"],Amin:["A","C","E"],Bdim:["B","D","F"],Bmin:["D","F#","B"]},j=0,C={I:["ii","iii","IV","V","vi"],ii:["V","I"],iii:["IV","vi","I"],IV:["ii","V","I"],V:["I","vi"],vi:["ii","iii","IV","V","I"]},V={i:["ii","III","iv","v","VI","VII"],ii:["v","VII","i"],III:["iv","VI","VII","i"],iv:["v","VII","i"],v:["VI","i"],VI:["III","iv","v","VII","i"],VII:["i"]},k={i:["ii","III","iv","V","VI","vii"],ii:["V","vii","i"],III:["iv","VI","vii","i"],iv:["V","vii","i"],V:["VI","i"],VI:["III","iv","V","vii","i"],vii:["i"]},w=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).generateChordProgression=a.generateChordProgression.bind(Object(u.a)(Object(u.a)(a))),a.newCotd=a.newCotd.bind(Object(u.a)(Object(u.a)(a))),a.playSound=a.playSound.bind(Object(u.a)(Object(u.a)(a))),a.toggleRandom=a.toggleRandom.bind(Object(u.a)(Object(u.a)(a))),a.loop=a.loop.bind(Object(u.a)(Object(u.a)(a))),a.state={isRandom:!1};var n=a.generateChordProgression();return a.state={isRandom:!1,cotd:n,isPlaying:!1},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"newCotd",value:function(){var e=4;void 0!==this.refs.progressionLength.value&&(e=this.refs.progressionLength.value);var t=this.generateChordProgression(Number(e));this.setState({cotd:t})}},{key:"loop",value:function(){if(!1!==this.state.isPlaying)return console.log("stopping"),j=0,clearInterval(n),void this.setState({isPlaying:!1});console.log("looping"),this.setState({isPlaying:!0}),j=0,this.playNext=function(){var e=this.state.cotd.chords.split(" - ");if(0===j)for(var t=0;t<e.length;t++)this.refs["btn_"+t].className="chordbtn";this.playSound(y[e[j]].map(function(e){return b[e]}));var a="btn_"+j;this.refs[a].className="chordbtn selected",++j+1>e.length&&(j=0)},n=setInterval(this.playNext.bind(this),1500)}},{key:"toggleRandom",value:function(){this.setState({isRandom:!this.state.isRandom}),console.log("state is now",this.state)}},{key:"playSound",value:function(e){this.refs.midi&&this.refs.midi.playChordNow(3,e,1)}},{key:"generateChordProgression",value:function(){var e,t,a,n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,o=[],l=!1;(this.refs.aminor&&this.refs.cmajor&&this.refs.randomKey?(!0===this.refs.aminor.checked&&(i=1),!0===this.refs.cmajor.checked&&(i=0),!0===this.refs.randomKey.checked&&(i=Math.floor(2*Math.random()),l=!0)):(i=Math.floor(2*Math.random()),l=!0),0===i?(e="I",a=E,n=C):(e="i",a=I,n=k,void 0!==this.refs.anatural&&!0===this.refs.anatural.checked&&(a=f,n=V)),!0===l&&"i"===e)&&(0===Math.floor(Math.floor(2*Math.random()))?(a=f,n=V):(a=I,n=k));if(!0===this.state.isRandom){for(;t!==e;){0===o.length&&(t=e),o.push(t);var s=Math.floor(Math.random()*n[t].length);t=n[t][s]}o.push(e)}else for(;o.length!==r;){0===o.length&&(t=e),o.push(t);var m=Math.floor(Math.random()*n[t].length);t=n[t][m]}var c,h=o.map(function(e){return a[e]});return a===f&&(c="A natural minor"),a===I&&(c="A harmonic minor"),{_type:0===i?"major":"minor",key:0===i?"C major":c,length:o.length,roman:o.join(" - "),chords:h.join(" - ")}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(v.a,{className:"hidden",ref:"midi",appElementName:"root",instruments:[3]}),r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"headerbg"},r.a.createElement("h4",null,"Simple Chord Progression Generator")),r.a.createElement("p",null,this.state.cotd.length," chords in the key of ",this.state.cotd.key,":",r.a.createElement("br",null),r.a.createElement("span",{className:"chords"},this.state.cotd.roman),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",null,this.state.cotd.chords.split(" - ").map(function(t,a){return r.a.createElement("span",{key:g.getTime()*Math.random()*50},r.a.createElement("button",{className:"chordbtn",ref:"btn_"+a,key:g.getTime()*Math.random()*50,onClick:function(){return e.playSound(y[t].map(function(e){return b[e]}))}},t," \u25ba",r.a.createElement("br",null)," ",r.a.createElement("span",{className:"chordLetters"},"(",y[t].join(" - "),")"),r.a.createElement("br",null))," ")}))),r.a.createElement("p",null,r.a.createElement("button",{className:"newbtn",onClick:this.newCotd},"Generate New Progression"),"\xa0",r.a.createElement("button",{className:!1===this.state.isPlaying?"newbtn":"newbtn selected",onClick:this.loop},!1===this.state.isPlaying?"Play on Loop":"Stop Looping")),r.a.createElement("br",{className:"hh"}),r.a.createElement("div",{className:"appBody"},r.a.createElement("h4",{className:"subhead"},"Options"),r.a.createElement("p",{className:"options"},r.a.createElement("span",{className:this.state.isRandom?"greystrike":"orange"},r.a.createElement("strong",null,"length"))," ",r.a.createElement("select",{ref:"progressionLength",disabled:this.state.isRandom},r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"6"},"6"),r.a.createElement("option",{value:"7"},"7"),r.a.createElement("option",{value:"8"},"8"),r.a.createElement("option",{value:"9"},"9"),r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"11"},"11"),r.a.createElement("option",{value:"12"},"12"))," \xa0 ",r.a.createElement("span",{className:"white"},r.a.createElement("strong",null,r.a.createElement("u",null,"OR")))," \xa0  ",r.a.createElement("strong",null,"random length",r.a.createElement("sup",null,"*"))," ",r.a.createElement("input",{type:"checkbox",onClick:this.toggleRandom,ref:"isRandom"})),r.a.createElement("p",{className:"options"},r.a.createElement("strong",null,r.a.createElement("input",{type:"radio",id:"major",ref:"cmajor",name:"mkey"}),"C major ",r.a.createElement("input",{type:"radio",id:"minor",ref:"aminor",name:"mkey"}),"A harmonic minor ",r.a.createElement("input",{type:"radio",id:"natural",ref:"anatural",name:"mkey"}),"A natural minor ",r.a.createElement("input",{type:"radio",ref:"randomKey",id:"randomKey",name:"mkey",defaultChecked:!0}),"random")),r.a.createElement("p",{className:"tiny"},r.a.createElement("strong",null,"*")," the random length option attempts to resolve to the i/I chord."),r.a.createElement("br",null)),r.a.createElement("h5",null,"\xa9 2019 Bill Pickard \u2013 ",r.a.createElement("a",{className:"bioLink",href:"../../"},"www.billrpickard.com")," \u2013 All Rights Reserved.",r.a.createElement("br",null),"Version 1.0")))}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[14,2,1]]]);
//# sourceMappingURL=main.af71b0f3.chunk.js.map